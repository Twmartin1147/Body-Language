<<<<<<< HEAD
'use strict';
=======
"use strict";
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = generateDynamicPrefixMap;

<<<<<<< HEAD
var _caniuseApi = require('caniuse-api');

var _propertyMap = require('./maps/propertyMap');
=======
var _caniuseApi = require("caniuse-api");

var _propertyMap = require("./maps/propertyMap");
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c

var _propertyMap2 = _interopRequireDefault(_propertyMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var prefixBrowserMap = {
<<<<<<< HEAD
  chrome: 'Webkit',
  safari: 'Webkit',
  firefox: 'Moz',
  opera: 'Webkit',
  ie: 'ms',
  edge: 'ms',
  ios_saf: 'Webkit',
  android: 'Webkit',
  and_chr: 'Webkit',
  and_uc: 'Webkit',
  op_mini: 'Webkit',
  ie_mob: 'ms'
=======
  chrome: "Webkit",
  safari: "Webkit",
  firefox: "Moz",
  opera: "Webkit",
  ie: "ms",
  edge: "ms",
  ios_saf: "Webkit",
  android: "Webkit",
  and_chr: "Webkit",
  and_uc: "Webkit",
  op_mini: "Webkit",
  ie_mob: "ms"
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
};

var browsers = Object.keys(prefixBrowserMap);

// remove flexprops from IE
<<<<<<< HEAD
var flexPropsIE = ['alignContent', 'alignSelf', 'alignItems', 'justifyContent', 'order', 'flexGrow', 'flexShrink', 'flexBasis'];
=======
var flexPropsIE = ["alignContent", "alignSelf", "alignItems", "justifyContent", "order", "flexGrow", "flexShrink", "flexBasis"];
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c

function generateDynamicPrefixMap(browserList) {
  var prefixMap = {};

  for (var i = 0, len = browsers.length; i < len; ++i) {
    var browser = browsers[i];
    if (!prefixMap.hasOwnProperty(browser)) {
      prefixMap[browser] = {};
    }

    for (var keyword in _propertyMap2.default) {
      var keywordProperties = [].concat(_propertyMap2.default[keyword]);
      var versions = (0, _caniuseApi.getSupport)(keyword);

      for (var j = 0, kLen = keywordProperties.length; j < kLen; ++j) {
        if (versions[browser].x >= browserList[browser]) {
          prefixMap[browser][keywordProperties[j]] = versions[browser].x;
        }
      }
    }
  }

  prefixMap.ie = _extends({}, prefixMap.ie, prefixMap.ie_mob);

  delete prefixMap.ie_mob;

  // remove flexProps from IE due to alternative syntax
  for (var _i = 0, _len = flexPropsIE.length; _i < _len; ++_i) {
    delete prefixMap.ie[flexPropsIE[_i]];
  }

  return prefixMap;
}
<<<<<<< HEAD
module.exports = exports['default'];
=======
module.exports = exports["default"];
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
