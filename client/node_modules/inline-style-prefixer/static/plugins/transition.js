<<<<<<< HEAD
'use strict';
=======
"use strict";
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = transition;

<<<<<<< HEAD
var _hyphenateProperty = require('css-in-js-utils/lib/hyphenateProperty');

var _hyphenateProperty2 = _interopRequireDefault(_hyphenateProperty);

var _isPrefixedValue = require('css-in-js-utils/lib/isPrefixedValue');

var _isPrefixedValue2 = _interopRequireDefault(_isPrefixedValue);

var _capitalizeString = require('../../utils/capitalizeString');
=======
var _hyphenateProperty = require("css-in-js-utils/lib/hyphenateProperty");

var _hyphenateProperty2 = _interopRequireDefault(_hyphenateProperty);

var _isPrefixedValue = require("css-in-js-utils/lib/isPrefixedValue");

var _isPrefixedValue2 = _interopRequireDefault(_isPrefixedValue);

var _capitalizeString = require("../../utils/capitalizeString");
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c

var _capitalizeString2 = _interopRequireDefault(_capitalizeString);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var properties = {
  transition: true,
  transitionProperty: true,
  WebkitTransition: true,
  WebkitTransitionProperty: true,
  MozTransition: true,
  MozTransitionProperty: true
};


var prefixMapping = {
<<<<<<< HEAD
  Webkit: '-webkit-',
  Moz: '-moz-',
  ms: '-ms-'
=======
  Webkit: "-webkit-",
  Moz: "-moz-",
  ms: "-ms-"
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
};

function prefixValue(value, propertyPrefixMap) {
  if ((0, _isPrefixedValue2.default)(value)) {
    return value;
  }

  // only split multi values, not cubic beziers
  var multipleValues = value.split(/,(?![^()]*(?:\([^()]*\))?\))/g);

  for (var i = 0, len = multipleValues.length; i < len; ++i) {
    var singleValue = multipleValues[i];
    var values = [singleValue];
    for (var property in propertyPrefixMap) {
      var dashCaseProperty = (0, _hyphenateProperty2.default)(property);

<<<<<<< HEAD
      if (singleValue.indexOf(dashCaseProperty) > -1 && dashCaseProperty !== 'order') {
=======
      if (singleValue.indexOf(dashCaseProperty) > -1 && dashCaseProperty !== "order") {
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
        var prefixes = propertyPrefixMap[property];
        for (var j = 0, pLen = prefixes.length; j < pLen; ++j) {
          // join all prefixes and create a new value
          values.unshift(singleValue.replace(dashCaseProperty, prefixMapping[prefixes[j]] + dashCaseProperty));
        }
      }
    }

<<<<<<< HEAD
    multipleValues[i] = values.join(',');
  }

  return multipleValues.join(',');
=======
    multipleValues[i] = values.join(",");
  }

  return multipleValues.join(",");
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
}

function transition(property, value, style, propertyPrefixMap) {
  // also check for already prefixed transitions
<<<<<<< HEAD
  if (typeof value === 'string' && properties.hasOwnProperty(property)) {
=======
  if (typeof value === "string" && properties.hasOwnProperty(property)) {
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
    var outputValue = prefixValue(value, propertyPrefixMap);
    // if the property is already prefixed
    var webkitOutput = outputValue.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function (val) {
      return !/-moz-|-ms-/.test(val);
<<<<<<< HEAD
    }).join(',');

    if (property.indexOf('Webkit') > -1) {
=======
    }).join(",");

    if (property.indexOf("Webkit") > -1) {
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
      return webkitOutput;
    }

    var mozOutput = outputValue.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function (val) {
      return !/-webkit-|-ms-/.test(val);
<<<<<<< HEAD
    }).join(',');

    if (property.indexOf('Moz') > -1) {
      return mozOutput;
    }

    style['Webkit' + (0, _capitalizeString2.default)(property)] = webkitOutput;
    style['Moz' + (0, _capitalizeString2.default)(property)] = mozOutput;
    return outputValue;
  }
}
module.exports = exports['default'];
=======
    }).join(",");

    if (property.indexOf("Moz") > -1) {
      return mozOutput;
    }

    style["Webkit" + (0, _capitalizeString2.default)(property)] = webkitOutput;
    style["Moz" + (0, _capitalizeString2.default)(property)] = mozOutput;
    return outputValue;
  }
}
module.exports = exports["default"];
>>>>>>> a788998ecc8efe6343b9c2979e5b19f7302fa02c
